<!-- This file is purely for local development and shouldn't be used in production!! -->
<!-- Note: Don't auto-prettify this file.  It messed up old versions of IE -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiq Webchat</title>
    <script src="https://use.fontawesome.com/89da14f4b6.js"></script>
    <style>
      button.noAgentsAvailable {opacity: .25;}
    </style>
  </head>
  <body>
    <h1 id="agentsWarning" style="position:absolute;right:50%;bottom:50%;"></h1>
    <button id="customButton1">Custom Button 1</button>
    <button class="customButton2">Custom Button 2</button>
    <script type="text/javascript" charset="utf-8">
    var cookiestring = RegExp('' + 'tenant' + '[^;]+').exec(document.cookie);
var tenant = unescape(!!cookiestring ? cookiestring.toString().replace(/^[^=]+./, '') : '');
if (!tenant) {
  // prettier-ignore
  throw new Error("Couldn't determine tenant from cookie! Ensure it is properly set in ui-override.json");
}

window.QUIQ = {
  HOST: 'https://' + tenant + '.dev.quiq.sh',
  COLOR: '#333',
  COLORS: {
    primary: '#333',
    agentMessageText: '#fff',
    agentMessageLinkText: '#fff',
    agentMessageBackground: '#0085f4',
    customerMessageText: '#555',
    customerMessageLinkText: '#0085f4',
    customerMessageBackground: '#f5f5f5',
    transcriptBackground: '#f4f4f8',
  },
  HEADER_TEXT: 'TOOL TIME',
  FONT_FAMILY: 'Lato, sans-serif',
  WIDTH: 400,
  HEIGHT: 600,
  DEBUG: false,
  AUTO_POP_TIME: 2000,
  HREF: window.location.href,
  CUSTOM_LAUNCH_BUTTONS: ['#customButton1'],
  WELCOME_FORM: {
    headerText:
      'Thanks for contacting us! Please fill out a couple brief pieces of information and we will get you chatting with an agent.',
    fields: [
      {
        type: 'text',
        label: 'First Name',
        id: 'firstName',
        required: true,
      },
      {
        type: 'text',
        label: 'Last Name',
        id: 'lastName',
        required: false,
      },
      {
        type: 'number',
        label: 'Number Field',
        id: 'numberField',
        required: false,
      },

      {
        type: 'email',
        label: 'E-Mail',
        id: 'email',
        required: false,
      },
      {
        type: 'tel',
        label: 'Phone Number',
        id: 'phoneNumber',
        required: false,
      },
    ],
  },
};
</script>
<script>
window.onload = function() {
  setInterval(function() {
    if (
      !document.querySelector('.ToggleChatButton') &&
      (!window.QUIQ.CUSTOM_LAUNCH_BUTTONS ||
        !window.QUIQ.CUSTOM_LAUNCH_BUTTONS.length ||
        document.querySelector('button').classList.contains('noAgentsAvailable'))
    ) {
      var warning = document.querySelector('#agentsWarning');
      warning.innerText = 'Got Agents?';
      warning.style.fontFamily = '"Source Sans Pro", sans-serif';
      warning.style.textTransform = 'uppercase';
      warning.style.color = '#' + (((1 << 24) * Math.random()) | 0).toString(16);
    } else {
      document.querySelector('#agentsWarning').innerText = '';
    }
  }, 500);
};
</script>
    <script type="text/javascript" src="common.js"></script>
    <script type="text/javascript" src="webchat.js"></script>
  </body>
</html>
